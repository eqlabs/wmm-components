<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: WmmText</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: WmmText</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>WmmText<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Creates a monetized text component &lt;wmm-text&gt;<br/>
This component loads new paragraphs with scrolling<br/>
(i.e. when there is room to show more text).<br/>
Attributes:<br/>
* src: enpoint for retrieving the paragraphs.<br/>
* paymentUrl: Payment pointer URL, can also include receipt service url.<br/>
* media: The text can be also passed in media attribute, which don't require a backend at all, but is not secure as it is directly accessible from the browser.<br/></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="WmmText"><span class="type-signature"></span>new WmmText<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="WmmText.js.html">WmmText.js</a>, <a href="WmmText.js.html#line34">line 34</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="attributeChangedCallback"><span class="type-signature"></span>attributeChangedCallback<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Native event that fires when element attribute changes.
Handle 'media' attribute when changed.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="WmmText.js.html">WmmText.js</a>, <a href="WmmText.js.html#line80">line 80</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="connectedCallback"><span class="type-signature"></span>connectedCallback<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Initializes component when inserted into DOM.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="WmmText.js.html">WmmText.js</a>, <a href="WmmText.js.html#line51">line 51</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="disconnectedCallback"><span class="type-signature"></span>disconnectedCallback<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Stops monetization when component is removed from DOM.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="WmmText.js.html">WmmText.js</a>, <a href="WmmText.js.html#line72">line 72</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="initNotifications"><span class="type-signature"></span>initNotifications<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Binds to default notifications.
Shown on 'paragraphPending' event and hidden on 'paragraphLoaded' event.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="WmmText.js.html">WmmText.js</a>, <a href="WmmText.js.html#line160">line 160</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="loadParagraph"><span class="type-signature">(async) </span>loadParagraph<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Load the next paragragh, add it to DOM and start observing when it becomes visible
(which will cause another paragraph to be loaded).
When paragrah is loaded from backend, 'paragraphLoading' and 'paragraphLoaded'
events will be emitted.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="WmmText.js.html">WmmText.js</a>, <a href="WmmText.js.html#line119">line 119</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="parseMedia"><span class="type-signature"></span>parseMedia<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Initialize frontend mode, if 'media' attribute exists.
In frontend mode the text is parsed from 'media' attribute,
and not loaded from the backend.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="WmmText.js.html">WmmText.js</a>, <a href="WmmText.js.html#line89">line 89</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="startLoadingText"><span class="type-signature"></span>startLoadingText<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Creates an IntersectionObserver, that calls loadParagraph()
when the last paragragh is visible on the screen.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="WmmText.js.html">WmmText.js</a>, <a href="WmmText.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="WmmText.html">WmmText</a></li></ul><h3>Global</h3><ul><li><a href="global.html#allowHtmlInjection">allowHtmlInjection</a></li><li><a href="global.html#threshold">threshold</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Nov 19 2021 10:49:26 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>