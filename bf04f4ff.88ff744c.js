(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{115:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return j}));var c=a(0),s=a.n(c);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,c,s=function(e,t){if(null==e)return{};var a,c,s={},n=Object.keys(e);for(c=0;c<n.length;c++)a=n[c],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(c=0;c<n.length;c++)a=n[c],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var o=s.a.createContext({}),u=function(e){var t=s.a.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},i=function(e){var t=u(e.components);return s.a.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return s.a.createElement(s.a.Fragment,{},t)}},d=s.a.forwardRef((function(e,t){var a=e.components,c=e.mdxType,n=e.originalType,b=e.parentName,o=r(e,["components","mdxType","originalType","parentName"]),i=u(a),d=c,j=i["".concat(b,".").concat(d)]||i[d]||m[d]||n;return a?s.a.createElement(j,l(l({ref:t},o),{},{components:a})):s.a.createElement(j,l({ref:t},o))}));function j(e,t){var a=arguments,c=t&&t.mdxType;if("string"==typeof e||c){var n=a.length,b=new Array(n);b[0]=d;var l={};for(var r in t)hasOwnProperty.call(t,r)&&(l[r]=t[r]);l.originalType=e,l.mdxType="string"==typeof e?e:c,b[1]=l;for(var o=2;o<n;o++)b[o]=a[o];return s.a.createElement.apply(null,b)}return s.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},96:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return b})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return r})),a.d(t,"default",(function(){return u}));var c=a(3),s=a(7),n=(a(0),a(115)),b={id:"accounts",title:"accounts.js"},l={unversionedId:"accounts",id:"accounts",isDocsHomePage:!1,title:"accounts.js",description:"Members",source:"@site/docs/accounts.md",slug:"/accounts",permalink:"/wmm-components/docs/accounts",editUrl:"https://github.com/eqlabs/wmm-components/edit/main/docs/docs/accounts.md",version:"current",sidebar:"someSidebar",previous:{title:"Utils overview",permalink:"/wmm-components/docs/utils-readme"},next:{title:"receipt.js",permalink:"/wmm-components/docs/receipt"}},r=[],o={rightToc:r};function u(e){var t=e.components,a=Object(s.a)(e,["components"]);return Object(n.b)("wrapper",Object(c.a)({},o,a,{components:t,mdxType:"MDXLayout"}),Object(n.b)("div",{id:"main"},Object(n.b)("section",null,Object(n.b)("header",null,Object(n.b)("h2",null)),Object(n.b)("article",null,Object(n.b)("div",{className:"container-overview"},Object(n.b)("dl",{className:"details"})),Object(n.b)("h3",{className:"subsection-title"},"Members"),Object(n.b)("h4",{className:"name",id:"accounts"},Object(n.b)("span",{className:"type-signature"},"(constant) "),"accounts",Object(n.b)("span",{className:"type-signature"})),Object(n.b)("div",{className:"description"},"Handles user specific accounts with **balance**s that increase with **deposit**s from receipt verified WebMonetization payments and are **deduct**ed when streaming media data to the client."),Object(n.b)("dl",{className:"details"},Object(n.b)("dt",{className:"tag-source"},"Source:"),Object(n.b)("dd",{className:"tag-source"},Object(n.b)("ul",{className:"dummy"},Object(n.b)("li",null,Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html"},"accounts.js"),", ",Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html#line7"},"line 7"))))),Object(n.b)("h4",{className:"name",id:"paywallThreshold"},Object(n.b)("span",{className:"type-signature"}),"paywallThreshold",Object(n.b)("span",{className:"type-signature"})),Object(n.b)("div",{className:"description"},'paywallThreshold has two functions: 1. Speed up the inital load of media by allowing some content to be loaded before the wallet is ready to pay (this can take few seconds). 2. Create a "preview" mode where some content can be shown also to users that don\'t have wallet set up, while instructing them to set up a wallet once the initial balance has run out.'),Object(n.b)("dl",{className:"details"},Object(n.b)("dt",{className:"tag-source"},"Source:"),Object(n.b)("dd",{className:"tag-source"},Object(n.b)("ul",{className:"dummy"},Object(n.b)("li",null,Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html"},"accounts.js"),", ",Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html#line17"},"line 17"))))),Object(n.b)("h3",{className:"subsection-title"},"Methods"),Object(n.b)("h4",{className:"name",id:"balance"},Object(n.b)("span",{className:"type-signature"}),"balance",Object(n.b)("span",{className:"signature"},"(userId)"),Object(n.b)("span",{className:"type-signature"}," \u2192 {number}")),Object(n.b)("div",{className:"description"},'Get users specific account balance. Creates and returns initial amount for new users ("paywallThreshold"), if user don\'t exist.'),Object(n.b)("h5",null,"Parameters:"),Object(n.b)("table",{className:"params"},Object(n.b)("thead",null,Object(n.b)("tr",null,Object(n.b)("th",null,"Name"),Object(n.b)("th",null,"Type"),Object(n.b)("th",{className:"last"},"Description"))),Object(n.b)("tbody",null,Object(n.b)("tr",null,Object(n.b)("td",{className:"name"},Object(n.b)("code",null,"userId")),Object(n.b)("td",{className:"type"},Object(n.b)("span",{className:"param-type"},"string")),Object(n.b)("td",{className:"description last"})))),Object(n.b)("dl",{className:"details"},Object(n.b)("dt",{className:"tag-source"},"Source:"),Object(n.b)("dd",{className:"tag-source"},Object(n.b)("ul",{className:"dummy"},Object(n.b)("li",null,Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html"},"accounts.js"),", ",Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html#line27"},"line 27"))))),Object(n.b)("h5",null,"Returns:"),Object(n.b)("div",{className:"param-desc"},"users balance"),Object(n.b)("dl",null,Object(n.b)("dt",null,"Type"),Object(n.b)("dd",null,Object(n.b)("span",{className:"param-type"},"number"))),Object(n.b)("h4",{className:"name",id:"deposit"},Object(n.b)("span",{className:"type-signature"}),"deposit",Object(n.b)("span",{className:"signature"},"(userId, amount)"),Object(n.b)("span",{className:"type-signature"}," \u2192 {number}")),Object(n.b)("div",{className:"description"},"Increments user specific account with given amount."),Object(n.b)("h5",null,"Parameters:"),Object(n.b)("table",{className:"params"},Object(n.b)("thead",null,Object(n.b)("tr",null,Object(n.b)("th",null,"Name"),Object(n.b)("th",null,"Type"),Object(n.b)("th",{className:"last"},"Description"))),Object(n.b)("tbody",null,Object(n.b)("tr",null,Object(n.b)("td",{className:"name"},Object(n.b)("code",null,"userId")),Object(n.b)("td",{className:"type"},Object(n.b)("span",{className:"param-type"},"string")),Object(n.b)("td",{className:"description last"})),Object(n.b)("tr",null,Object(n.b)("td",{className:"name"},Object(n.b)("code",null,"amount")),Object(n.b)("td",{className:"type"},Object(n.b)("span",{className:"param-type"},"number")),Object(n.b)("td",{className:"description last"},"amount to be deposited")))),Object(n.b)("dl",{className:"details"},Object(n.b)("dt",{className:"tag-source"},"Source:"),Object(n.b)("dd",{className:"tag-source"},Object(n.b)("ul",{className:"dummy"},Object(n.b)("li",null,Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html"},"accounts.js"),", ",Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html#line39"},"line 39"))))),Object(n.b)("h5",null,"Returns:"),Object(n.b)("div",{className:"param-desc"},"users balance after the deposit."),Object(n.b)("dl",null,Object(n.b)("dt",null,"Type"),Object(n.b)("dd",null,Object(n.b)("span",{className:"param-type"},"number"))),Object(n.b)("h4",{className:"name",id:"spend"},Object(n.b)("span",{className:"type-signature"}),"spend",Object(n.b)("span",{className:"signature"},"(userId, amount)"),Object(n.b)("span",{className:"type-signature"}," \u2192 {boolean}")),Object(n.b)("div",{className:"description"},"Deducts given amount from users account, if the accounts balance is equal or larger to the given amount."),Object(n.b)("h5",null,"Parameters:"),Object(n.b)("table",{className:"params"},Object(n.b)("thead",null,Object(n.b)("tr",null,Object(n.b)("th",null,"Name"),Object(n.b)("th",null,"Type"),Object(n.b)("th",{className:"last"},"Description"))),Object(n.b)("tbody",null,Object(n.b)("tr",null,Object(n.b)("td",{className:"name"},Object(n.b)("code",null,"userId")),Object(n.b)("td",{className:"type"},Object(n.b)("span",{className:"param-type"},"string")),Object(n.b)("td",{className:"description last"})),Object(n.b)("tr",null,Object(n.b)("td",{className:"name"},Object(n.b)("code",null,"amount")),Object(n.b)("td",{className:"type"},Object(n.b)("span",{className:"param-type"},"number")),Object(n.b)("td",{className:"description last"},"to be spent")))),Object(n.b)("dl",{className:"details"},Object(n.b)("dt",{className:"tag-source"},"Source:"),Object(n.b)("dd",{className:"tag-source"},Object(n.b)("ul",{className:"dummy"},Object(n.b)("li",null,Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html"},"accounts.js"),", ",Object(n.b)("a",{href:"pathname:///jsdoc/accounts.js.html#line51"},"line 51"))))),Object(n.b)("h5",null,"Returns:"),Object(n.b)("div",{className:"param-desc"},"true for succesfull action, false for failure."),Object(n.b)("dl",null,Object(n.b)("dt",null,"Type"),Object(n.b)("dd",null,Object(n.b)("span",{className:"param-type"},"boolean")))))))}u.isMDXComponent=!0}}]);