(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{105:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return l}));var a=n(3),r=n(7),o=(n(0),n(115)),i={title:"Audio"},c={unversionedId:"examples-audio",id:"examples-audio",isDocsHomePage:!1,title:"Audio",description:"First, make sure you have a sending wallet installed. With the wallet, you can try out the online audio demo. Click the webmonetization.mp3 link to open an `` element.",source:"@site/docs/examples-audio.md",slug:"/examples-audio",permalink:"/wmm-components/docs/examples-audio",editUrl:"https://github.com/eqlabs/wmm-components/edit/main/docs/docs/examples-audio.md",version:"current",sidebar:"someSidebar",previous:{title:"Video",permalink:"/wmm-components/docs/examples-video"},next:{title:"Streaming backend",permalink:"/wmm-components/docs/examples-streaming"}},p=[{value:"Syntax",id:"syntax",children:[]},{value:"Interaction",id:"interaction",children:[]},{value:"Without receipts",id:"without-receipts",children:[]},{value:"Frontend",id:"frontend",children:[]}],s={rightToc:p};function l(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"First, make sure you have a ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/wallet-sending"}),"sending wallet")," installed. With the wallet, you can try out the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://138.68.84.249:3009/"}),"online audio demo"),". Click the webmonetization.mp3 link to open an ",Object(o.b)("inlineCode",{parentName:"p"},"<wmm-audio>")," element."),Object(o.b)("p",null,"To install the demo locally on your computer, install the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/examples-streaming"}),"streaming backend"),"."),Object(o.b)("p",null,"In this document we will look more deeply into ",Object(o.b)("inlineCode",{parentName:"p"},"<wmm-audio>")," component and how it interacts with the backend."),Object(o.b)("h2",{id:"syntax"},"Syntax"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),'<wmm-audio\n  src="audio file source; if full URL is used, the recipe verification will use the same host for verification"\n  paymentUrl="Payment pointer URL, can also include receipt service url"\n  skipVerification="if true, don\'t send receipts to backend for verifications">\n</wmm-audio>\n')),Object(o.b)("h2",{id:"interaction"},"Interaction"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"<wmm-audio>")," component includes a native ",Object(o.b)("inlineCode",{parentName:"p"},"<audio>")," element, which, in accordance to HTML5 specs, loads and creates an audio player."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"<wmm-audio>")," adds Web Monetization features around the ",Object(o.b)("inlineCode",{parentName:"p"},"<audio>")," by sending payments to address defined in ",Object(o.b)("strong",{parentName:"p"},"paymentUrl")," attribute."),Object(o.b)("p",null,"The audio is loaded from an URL defined by ",Object(o.b)("strong",{parentName:"p"},"src")," attribute. The same ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/examples-streaming"}),"server")," hosting the audio also tracks payments made to the ",Object(o.b)("em",{parentName:"p"},"paymentUrl")," address."),Object(o.b)("p",null,"These payments are tracked using a ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/monetizationDemos#monetizationwithrecipeshtml"}),"receipt service"),". And when ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/examples-streaming#config"}),"adequate amount")," of payments have been made, the backend ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/pipeStream"}),"streams")," the media to browser."),Object(o.b)("h2",{id:"without-receipts"},"Without receipts"),Object(o.b)("p",null,"When ",Object(o.b)("strong",{parentName:"p"},"skipVerification")," attribute is set to ",Object(o.b)("strong",{parentName:"p"},"true"),", the UI component won't send ",Object(o.b)("strong",{parentName:"p"},"receipt"),"s to the backend. The assumption here is that the backend is willing to stream the media without verifying payments using receipt service."),Object(o.b)("p",null,"In this mode the media can be loaded from any typical server hosting video files and the payments can still be sent to the ",Object(o.b)("em",{parentName:"p"},"paymentAddress"),". But in this mode the backend is unable to verify if the payments have actually been made."),Object(o.b)("h2",{id:"frontend"},"Frontend"),Object(o.b)("p",null,"Import the web component from HTML:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-HTML"}),'<script src="packages/wmm-web-components/WmmAudio.js"\n        type="module">\n<\/script>\n')),Object(o.b)("p",null,"Or from JS:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"import 'packages/wmm-web-components/WmmAudio.js'\n")),Object(o.b)("p",null,"And add ",Object(o.b)("inlineCode",{parentName:"p"},"<wmm-audio>")," element into the DOM."))}l.isMDXComponent=!0},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),l=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},m=function(e){var t=l(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),m=l(n),b=a,u=m["".concat(i,".").concat(b)]||m[b]||d[b]||o;return n?r.a.createElement(u,c(c({ref:t},s),{},{components:n})):r.a.createElement(u,c({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=b;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);